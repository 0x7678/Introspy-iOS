<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN">

<html lang="en">
<head>
  <title>Introspy HTML Report</title>

  <!-- Bootstrap, handlebars.js and jquery -->
  <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
  <script src="handlebars.js" type="text/javascript"></script>
  <script src="jquery.min.js" type="text/javascript"></script>

  <!-- Handlebar.js template to display each traced call -->
  <script id="tracedCall-template" type="text/x-handlebars-template">
  <ol class="call_list">
    {{#each tracedCalls}}
      <h4><li>{{this.clazz}} {{this.method}}</li></h4>
      <div>
      Arguments: <pre>{{printArguments this.argsAndReturnValue}}</pre>
      Return Value: <pre>{{printReturnValue this.argsAndReturnValue}}</pre>
      </div>
    {{/each}}
  </ol>
  </script>

  <!-- All the traced calls -->
  <script src="tracedCalls.js" type="text/javascript"></script>

</head>

<body>
  <script src="bootstrap/js/bootstrap.min.js"></script>

  <!-- Navigation bar -->
  <div class="tabbable">
  <ul class="nav nav-tabs">
  <li class="active"><a href="#tab1" data-toggle="tab">Traced Calls</a></li>
  <li><a href="#tab2" data-toggle="tab">Vulnerabilities</a></li>
  </ul>
  <!-- Actual content of tab1: list of traced calls -->
  <div class="tab-content">
  <div class="tab-pane active" id="tab1">
  <p>I'm in Section 1.</p>
  </div>
  <!-- Actual content of tab2: list of vulnerabilities -->
  <div class="tab-pane" id="tab2">
  <p>Howdy, I'm in Section 2.</p>
  </div>
  </div>
  </div>

    <!-- Populate the page with content -->
  <script type="text/javascript">
  // Prepare the template
  var source   = $("#tracedCall-template").html();
  var template = Handlebars.compile(source);

  Handlebars.registerHelper('printArguments', function(argsAndReturnValue) {
  return JSON.stringify(argsAndReturnValue.arguments, undefined, 2);
  });

  Handlebars.registerHelper('printReturnValue', function(argsAndReturnValue) {
  return JSON.stringify(argsAndReturnValue.returnValue, undefined, 2);
  });

  // Populate the page with content
  var content = document.getElementById("tab1");
  content.innerHTML = template(tracedCalls);

  </script>
</body>
</html>
